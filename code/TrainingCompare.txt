Time(My PC)：
----------------------------------------------------------
RandomForestClassifier(n_estimators=10, criterion='gini')
training time: 4.114804615661663
testing time: 0.049657800211306835
accuracy = 0.978997884308
----------------------------------------------------------
RandomForestClassifier(n_estimators=10, criterion='entropy')
training time: 3.791225254080038
testing time: 0.0487884681237162
accuracy = 0.979823520305
----------------------------------------------------------
tree.DecisionTreeClassifier(criterion='gini')
training time: 23.442386711731395
testing time: 0.04277604660572933
accuracy = 0.976882192064
----------------------------------------------------------
tree.DecisionTreeClassifier(criterion='entropy')
training time: 13.485286077779273
testing time: 0.041159364486560435
accuracy = 0.979152691057
----------------------------------------------------------
GaussianNB()
training time: 2.3055178685672844
testing time: 0.3702282296086821
accuracy = 0.662830899427
----------------------------------------------------------
MultinomialNB()
training time: 0.4045127762363336
testing time: 0.026484786299687358
accuracy = 0.844625625677
----------------------------------------------------------
BernoulliNB()
training time: 1.6653419805195881
testing time: 0.1832460351944178
accuracy = 0.827132462975
----------------------------------------------------------
SVC(kernel='linear')
training time: 159.22320815917502
testing time: 15.43157938770737
accuracy = 0.977914237061
----------------------------------------------------------
SVC(kernel="rbf", gamma=0.7)
training time: 834.7902389162567
testing time: 55.628686745912276
accuracy = 0.95283554363
----------------------------------------------------------
SVC(kernel='sigmoid')
training time: 1525.3098415446245
testing time: 151.32791662921483
accuracy = 0.864286082873
----------------------------------------------------------
SGDClassifier(loss="log", max_iter=100, shuffle=True, n_jobs=2)
training time: 25.869029620614675
testing time: 0.045782459527617905
accuracy = 0.976933794313
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=1)
training time: 19.1443539756292
testing time: 204.74253867611841
accuracy = 0.977811032561
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=3)
training time: 17.237579461730274
testing time: 214.13529663691006
accuracy = 0.973992466072
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=5)
training time: 16.76779288056714
testing time: 218.29101534666043
accuracy = 0.972186387326
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=7)
training time: 16.71568862789427
testing time: 223.7693044690168
accuracy = 0.971515558078
----------------------------------------------------------







Time(Opposite PC)：
----------------------------------------------------------
RandomForestClassifier(n_estimators=10, criterion='gini')
training time: 4.190633501543438
testing time: 0.09623954777659449
accuracy = 0.979359100057
----------------------------------------------------------
RandomForestClassifier(n_estimators=10, criterion='entropy')
training time: 3.610261365845312
testing time: 0.07699249663709651
accuracy = 0.978946282058
----------------------------------------------------------
tree.DecisionTreeClassifier(criterion='gini')
training time: 23.294659751650357
testing time: 0.06707045385626316
accuracy = 0.977656225811
----------------------------------------------------------
tree.DecisionTreeClassifier(criterion='entropy')
training time: 12.598214619505626
testing time: 0.06594928815244998
accuracy = 0.97827545281
----------------------------------------------------------
GaussianNB()
training time: 3.09296195445109
testing time: 0.4795948339540814
accuracy = 0.662572888178
----------------------------------------------------------
MultinomialNB()
training time: 1.535125317823804
testing time: 0.03504647419698585
accuracy = 0.845193250426
----------------------------------------------------------
BernoulliNB()
training time: 1.828924464073277
testing time: 0.82894035409649
accuracy = 0.827803292224
----------------------------------------------------------
SVC(kernel='linear')
training time: 150.02155105785755
testing time: 14.49405606139535
accuracy = 0.97817224831
----------------------------------------------------------
SVC(kernel="rbf", gamma=0.7)
training time: 799.3100973959836
testing time: 50.19587655607338
accuracy = 0.95273233913
----------------------------------------------------------
SVC(kernel='sigmoid')
training time: 1303.6070963307388
testing time: 130.17822777566107
accuracy = 0.866246968368
----------------------------------------------------------
SGDClassifier(loss="log", max_iter=100, shuffle=True, n_jobs=2)
training time: 22.56900058316278
testing time: 0.047744652396431775
accuracy = 0.977553021312
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=1)
training time: 16.476770148278593
testing time: 178.78904698738006
accuracy = 0.977553021312
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=3)
training time: 16.369425312380553
testing time: 199.47352315934367
accuracy = 0.974818102069
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=5)
training time: 16.51686286340737
testing time: 207.0517073921721
accuracy = 0.972547603075
----------------------------------------------------------
KNeighborsClassifier(n_neighbors=7)
training time: 16.237624209813657
testing time: 210.5567195763906
accuracy = 0.97084472883
----------------------------------------------------------



\begin{table}%[H]
\centering
\caption{Results of Different Methods}
\begin{tabular}{|l||r|r||p{1.1cm}|p{1.1cm}|p{1.1cm}|p{1.1cm}|}
\hline
\textbf{Classifier} & \makecell[tl]{\textbf{Training} \\ \textbf{Time(s)}} & \makecell[tl]{\textbf{Testing} \\ \textbf{Time(s)}} & \textbf{PPV} & \textbf{TPR} & \textbf{FPR}  & \textbf{ACY}\\
\hline
KNN K=1                     &   16.477 & 178.789 & 0.9609 & 0.9830 & 0.0281 & 0.9764 \\
KNN K=3                     &   16.369 & 199.474 & 0.9572 & 0.9798 & 0.0307 & 0.9736 \\
KNN K=5                     &   16.517 & 207.052 & 0.9556 & 0.9763 & 0.0319 & 0.9715 \\
KNN K=7                     &   16.238 & 210.557 & 0.9556 & 0.9763 & 0.0319 & 0.9715 \\
DT criterion='gini'         &   23.442 &   0.067 & 0.9658 & 0.9797 & 0.0243 & 0.9773 \\
DT criterion='entropy'      &   13.485 &   0.066 & 0.9685 & 0.9787 & 0.0223 & 0.9781 \\
RF (n=10, gini)             &    4.115 &   0.086 & 0.9678 & 0.9787 & 0.0228 & 0.9778 \\
RF (n=10, entropy)          &    3.791 &   0.077 & 0.9692 & 0.9800 & 0.0218 & 0.9788 \\
Gaussian Naive Bayes        &    3.093 &   0.480 & 0.9381 & 0.1990 & 0.0092 & 0.6638 \\
Multinomial Naive Bayes     &    1.535 &   0.035 & 0.9494 & 0.6590 & 0.0247 & 0.8446 \\
Bernoulli Naive Bayes       &    1.826 &   0.828 & 0.8726 & 0.6831 & 0.0701 & 0.8279 \\
SVM kernel='linear'         &  150.022 &  14.494 & 0.9581 & 0.9896 & 0.0304 & 0.9778 \\
SVM kernel='rbf'            &  799.310 &  50.196 & 0.9686 & 0.9119 & 0.0207 & 0.9514 \\
SVM kernel='sigmoid'        & 1303.607 & 130.178 & 0.9671 & 0.7308 & 0.0232 & 0.8580 \\
SGD Classifier              &   22.569 &   0.048 & 0.9582 & 0.9862 & 0.0302 & 0.9765 \\
\hline
\end{tabular}
\label{tbl:CV}
\end{table}



#交叉验证结果

===============================================================================================

# opcodeFrequency

loss = 0.107
accuracy = 0.981505336768
             precision    recall  f1-score   support

          1       0.97      0.98      0.98      1541
          2       1.00      1.00      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.98      0.94      0.96       475
          5       1.00      0.67      0.80        42
          6       0.99      0.95      0.97       751
          7       0.95      0.97      0.96       398
          8       0.92      0.97      0.95      1228
          9       0.99      0.98      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1509    2    6    0    0    1    8   13    2]
 [   3 2466    0    0    0    0    0    9    0]
 [   0    0 2935    0    0    0    0    6    1]
 [   0    0    1  446    0    0    0   28    0]
 [   2    0    0    1   28    1    5    5    0]
 [   4    1    0    7    0  710    7   22    0]
 [   1    0    0    0    0    0  386   11    0]
 [  20    1    5    2    0    2    0 1194    4]
 [  11    0    1    1    0    1    0    6  993]]

===============================================================================================

# asmSize + bytesSize

loss = 1.187
accuracy = 0.557692307692
             precision    recall  f1-score   support

          1       0.26      0.35      0.30      1541
          2       0.52      0.88      0.65      2478
          3       0.87      0.85      0.86      2942
          4       0.00      0.00      0.00       475
          5       0.00      0.00      0.00        42
          6       0.00      0.00      0.00       751
          7       0.00      0.00      0.00       398
          8       0.47      0.64      0.54      1228
          9       0.95      0.06      0.11      1013

avg / total       0.53      0.56      0.49     10868

[[ 537  411   23    0    0    0    0  570    0]
 [ 243 2192    4    0    0    0    0   39    0]
 [   0  452 2490    0    0    0    0    0    0]
 [ 222  148    0    0    0    0    0  105    0]
 [   2   24   16    0    0    0    0    0    0]
 [ 304  388    8    0    0    0    0   50    1]
 [   0   75  323    0    0    0    0    0    0]
 [ 375   56   10    0    0    0    0  785    2]
 [ 346  489    1    0    0    0    0  120   57]]

===============================================================================================

# opcodeFrequency + asmSize + bytesSize

loss = 0.096
accuracy = 0.983621641516
             precision    recall  f1-score   support

          1       0.97      0.99      0.98      1541
          2       1.00      0.99      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.92      0.99      0.95       475
          5       1.00      0.64      0.78        42
          6       0.99      0.95      0.97       751
          7       0.97      0.97      0.97       398
          8       0.95      0.96      0.96      1228
          9       0.99      0.99      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1519    3    4    0    0    2    0   12    1]
 [   9 2460    1    1    0    0    1    6    0]
 [   0    0 2936    5    0    0    0    1    0]
 [   0    0    1  468    0    0    0    6    0]
 [   1    1    1    1   27    1    5    4    1]
 [   4    0    0    6    0  714    4   23    0]
 [   1    0    0   11    0    0  386    0    0]
 [  22    1    2   16    0    2    0 1180    5]
 [   6    0    1    1    0    1    0    4 1000]]

===============================================================================================

# variableDataSize

loss = 0.789
accuracy = 0.722580051527
             precision    recall  f1-score   support

          1       0.81      0.29      0.43      1541
          2       0.78      0.92      0.84      2478
          3       0.84      0.98      0.90      2942
          4       0.00      0.00      0.00       475
          5       0.95      0.50      0.66        42
          6       0.34      0.74      0.46       751
          7       0.00      0.00      0.00       398
          8       0.90      0.65      0.75      1228
          9       0.64      0.85      0.73      1013

avg / total       0.71      0.72      0.68     10868

[[ 444  553  176    2    0  204    0   57  105]
 [  74 2292   11    0    0   48    0   27   26]
 [   1    0 2891    0    0    7    5    0   38]
 [   3    1    2    0    0  465    0    4    0]
 [   1    5    0    0   21    5    0    3    7]
 [   0    3   77    0    0  552    6    2  111]
 [   1    4  220    1    0  142    0    0   30]
 [  21   44   53    0    1  141    0  793  175]
 [   2   52   18    2    0   79    0    0  860]]


===============================================================================================

# opcodeFrequency + variableDataSize

loss = 0.098
accuracy = 0.981781376518
             precision    recall  f1-score   support

          1       0.97      0.98      0.98      1541
          2       1.00      1.00      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.95      0.94      0.94       475
          5       0.97      0.71      0.82        42
          6       0.99      0.95      0.97       751
          7       0.97      0.97      0.97       398
          8       0.93      0.96      0.95      1228
          9       0.99      0.98      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1512    2    3    1    0    4    5   13    1]
 [   3 2466    1    0    0    0    0    8    0]
 [   0    0 2935    0    0    0    0    6    1]
 [   0    0    4  446    0    0    0   25    0]
 [   5    0    0    1   30    1    3    2    0]
 [   4    1    0    9    0  713    5   19    0]
 [   1    0    0    1    0    0  386   10    0]
 [  26    0    0   12    1    0    0 1185    4]
 [   9    0    1    1    0    2    0    3  997]]

===============================================================================================

# opcodeFrequency + variableDataSize + asmSize + bytesSize

loss = 0.089
accuracy = 0.984541774015
             precision    recall  f1-score   support

          1       0.98      0.99      0.98      1541
          2       1.00      0.99      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.90      0.99      0.94       475
          5       0.97      0.71      0.82        42
          6       0.99      0.95      0.97       751
          7       0.97      0.97      0.97       398
          8       0.97      0.96      0.97      1228
          9       0.99      0.99      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1519    1    4    2    0    1    1   11    2]
 [   6 2463    1    1    0    0    1    6    0]
 [   0    0 2936    5    0    0    0    1    0]
 [   0    0    1  468    0    0    0    6    0]
 [   1    2    2    0   30    1    3    3    0]
 [   4    1    0   18    0  713    4   11    0]
 [   1    0    0   11    0    0  386    0    0]
 [  21    0    0   14    1    2    2 1184    4]
 [   5    0    1    0    0    2    1    3 1001]]


===============================================================================================

# lineTypeCount

loss = 0.767
accuracy = 0.783400809717
             precision    recall  f1-score   support

          1       0.81      0.76      0.79      1541
          2       1.00      1.00      1.00      2478
          3       0.64      0.98      0.77      2942
          4       0.33      0.01      0.02       475
          5       0.00      0.00      0.00        42
          6       0.94      0.58      0.72       751
          7       0.00      0.00      0.00       398
          8       0.70      0.51      0.59      1228
          9       0.88      0.88      0.88      1013

avg / total       0.76      0.78      0.75     10868

[[1178    0  301    0    0   18    0   43    1]
 [   0 2472    2    0    0    0    0    3    1]
 [  34    0 2895    2    0    0    0    0   11]
 [   3    0  393    4    0    0    0    0   75]
 [   2    0   35    3    0    1    0    0    1]
 [  23    0  139    0    0  438    0  138   13]
 [  62    0  334    2    0    0    0    0    0]
 [ 125    0  440    0    0    9    0  631   23]
 [  28    0    6    1    0    1    0   81  896]]

===============================================================================================

# opcodeFrequency + lineTypeCount

loss = 0.093
accuracy = 0.982701509017
             precision    recall  f1-score   support

          1       0.97      0.98      0.98      1541
          2       1.00      1.00      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.91      0.98      0.94       475
          5       1.00      0.67      0.80        42
          6       0.98      0.95      0.97       751
          7       0.96      0.97      0.97       398
          8       0.96      0.96      0.96      1228
          9       0.99      0.98      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1514    0    6    0    0    1    6   12    2]
 [   2 2468    0    3    0    5    0    0    0]
 [   0    0 2936    6    0    0    0    0    0]
 [   0    0    1  466    0    2    0    6    0]
 [   2    0    0    2   28    1    5    3    1]
 [   5    0    1    6    0  714    3   22    0]
 [   1    0    0   11    0    0  386    0    0]
 [  26    0    3   17    0    1    0 1176    5]
 [  14    0    1    1    0    1    0    4  992]]



===============================================================================================

# lineTypeCount + variableDataSize

loss = 0.399
accuracy = 0.902926021347
             precision    recall  f1-score   support

          1       0.87      0.88      0.87      1541
          2       1.00      1.00      1.00      2478
          3       0.91      0.98      0.94      2942
          4       0.77      0.91      0.84       475
          5       0.96      0.57      0.72        42
          6       0.81      0.83      0.82       751
          7       0.68      0.58      0.62       398
          8       0.93      0.72      0.81      1228
          9       0.90      0.90      0.90      1013

avg / total       0.90      0.90      0.90     10868

[[1351    0   84    3    0   28    8   57   10]
 [   1 2468    0    2    0    5    0    2    0]
 [  33    2 2888    9    0    0    4    1    5]
 [   1    3   15  434    0    2   14    4    2]
 [   0    0    8    2   24    2    0    3    3]
 [  40    0   21   21    0  620    1    3   45]
 [  32    2   99    3    0    5  230    0   27]
 [  74    4   66   86    1   13   82  890   12]
 [  16    0    1    2    0   86    0    0  908]]

===============================================================================================

# lineTypeCount + asmSize + bytesSize

loss = 0.513
accuracy = 0.847810084652
             precision    recall  f1-score   support

          1       0.73      0.90      0.81      1541
          2       0.99      1.00      0.99      2478
          3       0.87      1.00      0.93      2942
          4       0.68      0.78      0.73       475
          5       0.00      0.00      0.00        42
          6       0.90      0.63      0.74       751
          7       0.00      0.00      0.00       398
          8       0.72      0.56      0.63      1228
          9       0.83      0.87      0.85      1013

avg / total       0.82      0.85      0.83     10868

[[1388    0   23    4    0   25    3   92    6]
 [   0 2476    1    0    0    0    0    0    1]
 [   1    5 2935    1    0    0    0    0    0]
 [   5    4    0  371    0    4    0    5   86]
 [   3    0   22    8    0    5    0    3    1]
 [  17    0    5   88    0  473    1  127   40]
 [  14   11  350    0    0    0    0    0   23]
 [ 395   11   22   73    0   14    0  691   22]
 [  82    0    5    1    0    3    0   42  880]]

===============================================================================================

# variableDataSize + asmSize + bytesSize

loss = 0.574
accuracy = 0.834468163416
             precision    recall  f1-score   support

          1       0.74      0.75      0.74      1541
          2       0.88      0.90      0.89      2478
          3       0.98      0.99      0.98      2942
          4       0.70      0.65      0.67       475
          5       0.96      0.52      0.68        42
          6       0.54      0.74      0.63       751
          7       0.96      0.73      0.83       398
          8       0.93      0.67      0.78      1228
          9       0.69      0.77      0.73      1013

avg / total       0.85      0.83      0.84     10868

[[1159  241   23    6    0   39    6   42   25]
 [ 170 2231    0    0    0   43    1    9   24]
 [   0    1 2901    0    0    5    1    0   34]
 [   5    0    0  307    0  159    0    4    0]
 [   0    5    0    0   22    4    2    3    6]
 [  11    0    4   70    0  557    2    4  103]
 [   0    4   34    0    0   40  289    0   31]
 [ 127    8    6    7    1  130    1  825  123]
 [ 100   39    3   46    0   47    0    0  778]]

===============================================================================================

# variableDataSize + lineTypeCount + asmSize + bytesSize

loss = 0.306
accuracy = 0.931450128819
             precision    recall  f1-score   support

          1       0.89      0.93      0.91      1541
          2       0.99      1.00      0.99      2478
          3       0.98      0.99      0.99      2942
          4       0.80      0.96      0.88       475
          5       0.96      0.57      0.72        42
          6       0.83      0.83      0.83       751
          7       0.95      0.80      0.87       398
          8       0.92      0.79      0.85      1228
          9       0.86      0.90      0.88      1013

avg / total       0.93      0.93      0.93     10868

[[1440    1    9    1    0   20    6   49   15]
 [   1 2472    0    0    0    5    0    0    0]
 [   0    5 2911    0    0    0    4    0   22]
 [   3    0    0  456    0    1    1   11    3]
 [   1    0    6    0   24    4    0    3    4]
 [  38    0    3   26    0  620    3   20   41]
 [   4   10    6    1    0    3  320    0   54]
 [ 120    3   23   81    1   15    3  972   10]
 [  20    0    4    2    0   78    1    0  908]]

===============================================================================================

# opcodeFrequency + variableDataSize + lineTypeCount + asmSize + bytesSize

loss = 0.079
accuracy = 0.984725800515
             precision    recall  f1-score   support

          1       0.97      0.99      0.98      1541
          2       1.00      1.00      1.00      2478
          3       1.00      1.00      1.00      2942
          4       0.92      0.98      0.95       475
          5       1.00      0.71      0.83        42
          6       0.98      0.95      0.97       751
          7       0.97      0.97      0.97       398
          8       0.96      0.96      0.96      1228
          9       1.00      0.99      0.99      1013

avg / total       0.98      0.98      0.98     10868

[[1521    0    4    0    0    1    1   13    1]
 [   1 2470    0    0    0    5    2    0    0]
 [   0    0 2936    6    0    0    0    0    0]
 [   0    0    1  465    0    2    0    7    0]
 [   1    0    2    0   30    1    3    4    1]
 [   5    0    0    6    0  715    3   22    0]
 [   1    0    0   11    0    0  386    0    0]
 [  30    0    0   15    0    2    0 1178    3]
 [   6    0    1    0    0    1    1    3 1001]]

===============================================================================================

# dll

loss = 0.437
accuracy = 0.853882959146
             precision    recall  f1-score   support

          1       0.82      0.80      0.81      1541
          2       0.88      0.95      0.92      2478
          3       0.83      0.97      0.89      2942
          4       0.95      0.49      0.65       475
          5       0.33      0.02      0.04        42
          6       0.92      0.87      0.90       751
          7       0.44      0.29      0.35       398
          8       0.93      0.80      0.86      1228
          9       0.86      0.86      0.86      1013

avg / total       0.85      0.85      0.85     10868

[[1230  137   14    2    1   36    2   57   62]
 [  81 2356   17    0    0    2    2    0   20]
 [   7    7 2841    0    0    0   80    2    5]
 [   4    4  186  233    0    0   48    0    0]
 [  18   11    4    3    1    0    1    4    0]
 [  46    2   35    1    0  655    7    3    2]
 [   0    3  277    0    1    0  117    0    0]
 [  86   49   38    4    0   14    8  980   49]
 [  34   98    5    1    0    4    1    3  867]]
